### HOST

socat tcp-listen:5000,fork unix-connect:/var/run/usbmuxd
systemctl restart usbmuxd
usbfluxd -f -n


### MAC

mkdir build-ios
cd build-ios
git clone -b dev --recurse-submodules https://github.com/valaczka/callofsuli.git
~/Qt/5.15.2/ios/bin/qmake -config release -spec macx-ios-clang ../callofsuli/client.pro
make

mount -t smbfs smb://valaczka@192.168.99.2/mac ~/vjp
mount -t smbfs smb://valaczka@192.168.99.2/storage ~/storage
sudo launchctl stop usbmuxd
sudo launchctl start usbmuxd
sudo launchctl stop usbmuxd && sudo launchctl start usbmuxd
export PATH=/usr/local/sbin:${PATH}; sudo usbfluxd -f -r 192.168.99.2:5000


mkdir build-macos
cd build-macos
~/Qt/5.15.2/clang_64/bin/qmake -config release -spec macx-clang "CONFIG += x86_64" ../../vjp/callofsuli/client.pro
make
~/Qt/5.15.2/clang_64/bin/macdeployqt callofsuli.app -qmldir=../../vjp/callofsuli/client/qml -dmg -libpath=./lib
~/Qt/5.15.2/clang_64/bin/macdeployqt callofsuli.app -qmldir=../../vjp/callofsuli/client/qml -dmg -libpath=./lib -appstore-compliant -codesign="$(cat ~/id.txt)"
security unlock-keychain
